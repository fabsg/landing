function hideElementIfVisible(){let e=document.getElementById("contact-form"),t=document.getElementById("contact-button-wrapper");var n=e.getBoundingClientRect(),l=window.innerHeight;n.top<l&&n.bottom>=0?t.style.display="none":t.style.display="flex"}function hideForm(){let e=document.getElementById("form-wrapper"),t=document.getElementById("contact-button-wrapper");t.style.display="none",e.style.display="none"}function showForm(){let e=document.getElementById("form-wrapper"),t=document.getElementById("contact-button-wrapper");t.style.display="flex",e.style.display="flex"}function onClickRetry(){showForm();let e=document.getElementById("error");e.style.display="none"}function onClickSendFormData(){let e=document.getElementById("btn-save");e.setAttribute("disabled","disabled");let t=document.getElementById("form-loader");t.style.visibility="visible";let n=document.getElementById("nome"),l=document.getElementById("cognome"),o=document.getElementById("email"),i=document.getElementById("telefono"),r=document.getElementById("honeypot"),a=n.value,s=l.value,d=o.value,m=i.value,c=r.value,y=/^[a-zA-Z]{2,}$/;a&&y.test(a)&&s&&y.test(s)&&d&&/^[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}$/i.test(d)&&m&&/^\+?[0-9]{5,}$/.test(m)&&!c?fetch("/landing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,surname:s,email:d,phone:m})}).then(e=>e.json()).then(()=>{t.style.visibility="hidden",hideForm();let e=document.getElementById("success");e.style.display="flex"}).catch(()=>{hideForm();let e=document.getElementById("error");e.style.display="flex",t.style.visibility="hidden"}):console.log("form non valido error page")}window.addEventListener("DOMContentLoaded",function(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),hideElementIfVisible(),validateForm(),window.scrollTo(0,0)}),window.addEventListener("scroll",hideElementIfVisible);const form=document.getElementById("contact-form"),button=document.getElementById("btn-save"),formFields=form.querySelectorAll("input, select, textarea");function validateForm(){Array.from(formFields).every(e=>e.checkValidity())?button.removeAttribute("disabled"):button.setAttribute("disabled","disabled")}function pxToRem(e){return e/getCurrentBaseRem()+"rem"}function getCurrentBaseRem(){let e=window.innerWidth,t=16;return e>=1200?32:e>=992?24:e>=768?24:16}function setBaseRem(){document.documentElement.style.fontSize=getCurrentBaseRem()+"px"}function onClickContactButton(){let e=document.getElementById("form-wrapper"),t=document.getElementById("sticky-timer"),n=document.getElementById("contact-button-wrapper"),l=e.offsetTop-(t.offsetHeight+n.offsetHeight);window.scrollTo({top:l,behavior:"smooth"})}function calculateTimeRemaining(){var e=new Date,t=(9-e.getDay())%7,n=new Date(e.getTime()+864e5*t);n.setHours(23,59,59,999);var l=n-e;return{total:l,days:Math.floor(l/864e5),hours:Math.floor(l/36e5%24),minutes:Math.floor(l/1e3/60%60),seconds:Math.floor(l/1e3%60)}}function displayTimer(){var e=document.getElementById("timer"),t=calculateTimeRemaining();e.innerHTML=t.days+" giorni, "+t.hours+" ore, "+t.minutes+" minuti, "+t.seconds+" secondi",t.total>0&&setTimeout(displayTimer,1e3)}function accordionManaging(){var e,t=document.getElementsByClassName("accordion");for(e=0;e<t.length;e++)t[e].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=pxToRem(e.scrollHeight)})}formFields.forEach(e=>{e.addEventListener("input",validateForm)}),window.addEventListener("resize",setBaseRem);
